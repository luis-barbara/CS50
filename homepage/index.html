<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="styles.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <div class="container-fluid">
        <header class="d-flex flex-wrap justify-content-between align-items-center py-3 mb-4 border-bottom navbar">
            <a href="home.html" class="d-flex align-items-center text-decoration-none dxmed-link">
                <span class="title">dxMed</span>
            </a>

            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a href="home.html" class="nav-link" aria-current="page">Home</a>
                </li>
                <li class="nav-item">
                    <a href="faqs.html" class="nav-link">FAQs</a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </li>
            </ul>
        </header>

        <div class="dropdown-buttons d-flex">
            <div class="dropdown dropdown-spacing me-3">
                <button id="especialidade-button" class="btn btn-primary dropdown-toggle" type="button"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Especialidade
                </button>
                <ul class="dropdown-menu" id="especialidade-menu">
                    <input class="form-control" id="myInput1" type="text" placeholder="Search..">
                    <li><a class="dropdown-item" href="#" data-value="Cardiologia">Cardiologia</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Dermatologia">Dermatologia</a></li>
                    <li><a class="dropdown-item" href="#" data-value="Pneumologia">Pneumologia</a></li>
                </ul>
            </div>

            <div class="dropdown dropdown-spacing">
                <button id="patologia-button" class="btn btn-primary dropdown-toggle" type="button"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Patologia
                </button>
                <ul class="dropdown-menu" id="patologia-menu">
                    <input class="form-control" id="myInput2" type="text" placeholder="Search..">
                    <!-- Patologias serão inseridas aqui pelo JavaScript -->
                </ul>
            </div>
        </div>

        <div class="selected-items">
            <span id="selected-especialidade" class="selected-especialidade"></span>
            <span id="selected-patologia" class="selected-patologia"></span>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function () {
            const patologias = {
                "Cardiologia": ["Infarto", "Angina", "Arritmia"],
                "Dermatologia": ["Psoríase", "Eczema", "Acne"],
                "Pneumologia": ["Asma", "Bronquite", "Tuberculose"]
            };

            function updatePatologias(especialidade) {
                const patologiaMenu = $("#patologia-menu");
                patologiaMenu.find("li").not(':first').remove();
                if (patologias[especialidade]) {
                    patologias[especialidade].forEach(patologia => {
                        patologiaMenu.append(`<li><a class="dropdown-item" href="#">${patologia}</a></li>`);
                    });
                }
            }

            $("#especialidade-menu").on("click", ".dropdown-item", function () {
                const selectedEspecialidade = $(this).data("value");
                const selectedEspecialidadeText = $(this).text();
                $("#especialidade-button").text(selectedEspecialidadeText); // Substitui o texto do botão com o nome da especialidade
                $("#selected-patologia").empty(); // Limpa a seleção de patologia ao mudar a especialidade
                updatePatologias(selectedEspecialidade);
                $("#especialidade-menu").dropdown('toggle');
            });

            $("#patologia-menu").on("click", ".dropdown-item", function () {
                const selectedPatologia = $(this).text();
                $("#patologia-button").text(selectedPatologia); // Substitui o texto do botão com o nome da patologia
                $("#patologia-menu").dropdown('toggle');
            });

            $("#myInput1").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#especialidade-menu li a").filter(function () {
                    $(this).parent().toggle($(this).text().toLowerCase().indexOf(value) > -1);
                });
            });

            $("#myInput2").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#patologia-menu li a").filter(function () {
                    $(this).parent().toggle($(this).text().toLowerCase().indexOf(value) > -1);
                });
            });

            // Destacar o link ativo
            const currentPath = window.location.pathname.split("/").pop();
            $(".nav-link").each(function () {
                if ($(this).attr("href") === currentPath) {
                    $(this).addClass("active");
                }
            });
        });
    </script>
</body>

</html>
